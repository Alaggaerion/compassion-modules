<odoo>
    <record model="ir.ui.view" id="revision_simplified_form">
        <field name="name">communication.revision.simplified.form</field>
        <field name="model">partner.communication.revision</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="lang"/>
                    <field name="config_id" invisible="1"/>
                </group>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="revision_form">
        <field name="name">communication.revision.form</field>
        <field name="model">partner.communication.revision</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" name="open_preview" icon="fa-search-plus" string="Preview" type="object"/>
                    </div>
                    <field name="simplified_text" widget="html"/>
                    <button name="refresh_text" type="object" string="Refresh text" class="oe_highlight"/>
                    <group>
                        <field name="if_keyword_ids" context="{'tree_view_ref': 'partner_communication_revision.revision_keyword_tree_if'}"/>
                        <field name="edit_keyword_ids" context="{'tree_view_ref': 'partner_communication_revision.revision_keyword_tree'}"/>
                        <field name="for_keyword_ids" context="{'tree_view_ref': 'partner_communication_revision.revision_keyword_tree'}" attrs="{'invisible': [('for_keyword_ids', '=', False)]}"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record model="ir.ui.view" id="revision_form_readonly">
        <field name="name">communication.revision.form.readonly</field>
        <field name="model">partner.communication.revision</field>
        <field name="priority">25</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" name="open_preview" icon="fa-search-plus" string="Preview" type="object"/>
                    </div>
                    <field name="simplified_text" widget="html" readonly="1"/>
                    <button name="refresh_text" type="object" string="Refresh text" class="oe_highlight"/>
                    <group>
                        <field name="if_keyword_ids" context="{'tree_view_ref': 'partner_communication_revision.revision_keyword_tree_if'}"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
